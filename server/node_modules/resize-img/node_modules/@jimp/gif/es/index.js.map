{"version":3,"sources":["../src/index.js"],"names":["GIF","MIME_TYPE","mime","constants","MIME_GIF","decoders","data","gifObj","GifReader","gifData","Buffer","alloc","width","height","decodeAndBlitFrameRGBA"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,QAAhB;AAEA,IAAMC,SAAS,GAAG,WAAlB;AAEA,gBAAe;AAAA,SAAO;AACpBC,IAAAA,IAAI,sBAAKD,SAAL,EAAiB,CAAC,KAAD,CAAjB,CADgB;AAGpBE,IAAAA,SAAS,EAAE;AACTC,MAAAA,QAAQ,EAAEH;AADD,KAHS;AAOpBI,IAAAA,QAAQ,sBACLJ,SADK,EACO,UAAAK,IAAI,EAAI;AACnB,UAAMC,MAAM,GAAG,IAAIP,GAAG,CAACQ,SAAR,CAAkBF,IAAlB,CAAf;AACA,UAAMG,OAAO,GAAGC,MAAM,CAACC,KAAP,CAAaJ,MAAM,CAACK,KAAP,GAAeL,MAAM,CAACM,MAAtB,GAA+B,CAA5C,CAAhB;AAEAN,MAAAA,MAAM,CAACO,sBAAP,CAA8B,CAA9B,EAAiCL,OAAjC;AAEA,aAAO;AACLH,QAAAA,IAAI,EAAEG,OADD;AAELG,QAAAA,KAAK,EAAEL,MAAM,CAACK,KAFT;AAGLC,QAAAA,MAAM,EAAEN,MAAM,CAACM;AAHV,OAAP;AAKD,KAZK;AAPY,GAAP;AAAA,CAAf","sourcesContent":["import GIF from 'omggif';\n\nconst MIME_TYPE = 'image/gif';\n\nexport default () => ({\n  mime: { [MIME_TYPE]: ['gif'] },\n\n  constants: {\n    MIME_GIF: MIME_TYPE\n  },\n\n  decoders: {\n    [MIME_TYPE]: data => {\n      const gifObj = new GIF.GifReader(data);\n      const gifData = Buffer.alloc(gifObj.width * gifObj.height * 4);\n\n      gifObj.decodeAndBlitFrameRGBA(0, gifData);\n\n      return {\n        data: gifData,\n        width: gifObj.width,\n        height: gifObj.height\n      };\n    }\n  }\n});\n"],"file":"index.js"}